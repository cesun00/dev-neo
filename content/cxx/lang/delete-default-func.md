---
title: "The `=delete` and `=default` Function Definition"
date: 2024-01-01
lastmod: 2024-05-01
draft: false
tags:
- C++
- Programming Language
---

This article discussed the `= default` and the `= delete` syntax, both of which serve as a function definition, not declaration.

<!--more-->

In the AST, both `= default` and `= deleted` [appear in the `function-body` non-terminal](https://eel.is/c++draft/dcl.fct.def#nt:function-body),
thus define the function rather than just declare it.

<!-- TODO: paste AST -->

## `= default`: explicitly-defaulted member function definition

`= default` can only be used in a class member specification, as `function-body` of
1. the [special member functions]({{<ref "./class.md#smf">}}) and
2. comparison operator functions

to *request* the compiler-generated version of that member function.
It is useful e.g. when you have a custom constructor, so the default constructor won't be generated by the compiler but you still want one.
Such a member function (i.e. with `= default` function body) is said to be *explicitly-defaulted*.

Such request can fail:

```c++
class Foo
{
public:
    Foo() = default;
    Foo(int& a) : m_a(a) {} 
private:
    int& m_a;
};
